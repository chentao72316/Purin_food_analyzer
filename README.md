# é£Ÿç‰©å˜Œå‘¤è¯†åˆ«åˆ†æžç³»ç»Ÿ

åŸºäºŽè±†åŒ…1.6 Flash 0828å¤§æ¨¡åž‹çš„é£Ÿç‰©å˜Œå‘¤è¯†åˆ«ç½‘ç«™ï¼Œå¸®åŠ©ç”¨æˆ·é€šè¿‡ä¸Šä¼ æˆ–æ‹æ‘„é£Ÿç‰©å›¾ç‰‡ï¼Œå¿«é€Ÿè¯†åˆ«é£Ÿç‰©ä¸­çš„å˜Œå‘¤å«é‡ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ðŸ“¸ **å›¾ç‰‡ä¸Šä¼ **ï¼šæ”¯æŒæ‹–æ‹½ä¸Šä¼ ã€æ–‡ä»¶é€‰æ‹©ã€æ‹ç…§åŠŸèƒ½
- ðŸ¤– **AIè¯†åˆ«**ï¼šé›†æˆè±†åŒ…1.6 Flash 0828æ¨¡åž‹ï¼Œè‡ªåŠ¨è¯†åˆ«é£Ÿç‰©å¹¶åˆ†æžå˜Œå‘¤å«é‡
- ðŸŽ¯ **å¯è§†åŒ–æ ‡æ³¨**ï¼šåœ¨å›¾ç‰‡ä¸Šæ ‡æ³¨é«˜å˜Œå‘¤ï¼ˆæ·±çº¢è‰²ï¼‰å’Œä¸­å˜Œå‘¤ï¼ˆçº¢è‰²ï¼‰é£Ÿç‰©
- ðŸ“Š **ä¿¡æ¯å±•ç¤º**ï¼šè¯¦ç»†å±•ç¤ºæ¯ä¸ªé£Ÿç‰©çš„å˜Œå‘¤å«é‡å’Œä»‹ç»ä¿¡æ¯
- ðŸ“± **å“åº”å¼è®¾è®¡**ï¼šæ”¯æŒæ¡Œé¢ç«¯ã€å¹³æ¿ã€æ‰‹æœºç­‰å¤šç§è®¾å¤‡

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æž¶**ï¼šNext.js 14 (App Router)
- **è¯­è¨€**ï¼šTypeScript
- **æ ·å¼**ï¼šTailwind CSS
- **HTTPå®¢æˆ·ç«¯**ï¼šAxios

### åŽç«¯
- **æ¡†æž¶**ï¼šNext.js API Routes
- **AIæ¨¡åž‹**ï¼šè±†åŒ…1.6 Flash 0828

## é¡¹ç›®ç»“æž„

```
purin-food-analyzer/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ api/               # APIè·¯ç”±
â”‚   â”‚   â””â”€â”€ analyze/       # é£Ÿç‰©è¯†åˆ«API
â”‚   â”œâ”€â”€ globals.css        # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ page.tsx           # é¦–é¡µ
â”œâ”€â”€ components/            # Reactç»„ä»¶
â”‚   â”œâ”€â”€ ImageUpload.tsx    # å›¾ç‰‡ä¸Šä¼ ç»„ä»¶
â”‚   â”œâ”€â”€ ImageAnnotation.tsx # å›¾ç‰‡æ ‡æ³¨ç»„ä»¶
â”‚   â””â”€â”€ FoodInfoCard.tsx   # é£Ÿç‰©ä¿¡æ¯å¡ç‰‡ç»„ä»¶
â”œâ”€â”€ lib/                   # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ doubao-api.ts      # è±†åŒ…APIé›†æˆ
â”œâ”€â”€ types/                 # TypeScriptç±»åž‹å®šä¹‰
â”‚   â””â”€â”€ index.ts           # æ•°æ®ç±»åž‹å®šä¹‰
â”œâ”€â”€ PRD.md                 # äº§å“éœ€æ±‚æ–‡æ¡£
â””â”€â”€ package.json           # é¡¹ç›®é…ç½®
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
# æˆ–
yarn install
# æˆ–
pnpm install
```

### 2. é…ç½®çŽ¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶ï¼ˆå‚è€ƒ `.env.local.example`ï¼‰ï¼š

```env
ARK_API_KEY=d3c412ec-e817-415d-b896-6803f29a639a
ARK_ENDPOINT_ID=ep-20251214002916-lthkj
ARK_API_URL=https://ark.cn-beijing.volces.com/api/v3/responses
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
# æˆ–
yarn dev
# æˆ–
pnpm dev
```

æ‰“å¼€ [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

### 4. æž„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
npm start
```

## APIè¯´æ˜Ž

### POST /api/analyze

åˆ†æžé£Ÿç‰©å›¾ç‰‡ï¼Œè¿”å›žå˜Œå‘¤å«é‡ä¿¡æ¯ã€‚

**è¯·æ±‚ï¼š**
- Content-Type: `multipart/form-data`
- å‚æ•°ï¼š`image` (File) - å›¾ç‰‡æ–‡ä»¶

**å“åº”ï¼š**
```json
{
  "success": true,
  "data": {
    "high_purine_foods": [
      {
        "food_name": "åŠ¨ç‰©è‚è„",
        "purine_value": 180,
        "coordinates": {
          "x1": 100,
          "y1": 150,
          "x2": 300,
          "y2": 250
        },
        "description": "é£Ÿç‰©è¯¦ç»†ä»‹ç»"
      }
    ],
    "medium_purine_foods": [...],
    "low_purine_foods": [...]
  },
  "message": "è¯†åˆ«æˆåŠŸ"
}
```

## å˜Œå‘¤åˆ†ç±»æ ‡å‡†

- **é«˜å˜Œå‘¤é£Ÿç‰©**ï¼š>150æ¯«å…‹/100å…‹ï¼ˆæ·±çº¢è‰²æ ‡æ³¨ï¼‰
- **ä¸­å˜Œå‘¤é£Ÿç‰©**ï¼š50-150æ¯«å…‹/100å…‹ï¼ˆçº¢è‰²æ ‡æ³¨ï¼‰
- **ä½Žå˜Œå‘¤é£Ÿç‰©**ï¼š<50æ¯«å…‹/100å…‹

## å¼€å‘è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€åŠŸèƒ½ âœ…
- [x] é¡¹ç›®åˆå§‹åŒ–å’ŒçŽ¯å¢ƒæ­å»º
- [x] å‰ç«¯åŸºç¡€æ¡†æž¶æ­å»º
- [x] å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½å®žçŽ°
- [x] å›¾ç‰‡é¢„è§ˆåŠŸèƒ½å®žçŽ°
- [x] åŽç«¯APIæ¡†æž¶æ­å»º
- [x] è±†åŒ…æ¨¡åž‹APIå¯¹æŽ¥
- [x] åŸºç¡€UIç•Œé¢å®žçŽ°

### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½ âœ…
- [x] æ ‡æ³¨æ¡†ç»˜åˆ¶åŠŸèƒ½å®žçŽ°
- [x] åæ ‡è½¬æ¢å’Œå“åº”å¼å¤„ç†
- [x] é£Ÿç‰©ä¿¡æ¯å±•ç¤ºåŠŸèƒ½å®žçŽ°
- [x] é«˜/ä¸­/ä½Žå˜Œå‘¤åˆ†ç±»å±•ç¤º
- [x] é”™è¯¯å¤„ç†å’Œå¼‚å¸¸æç¤º
- [x] UI/UXä¼˜åŒ–
- [x] ç§»åŠ¨ç«¯é€‚é…

### ç¬¬ä¸‰é˜¶æ®µï¼šä¼˜åŒ–å®Œå–„
- [ ] æ€§èƒ½ä¼˜åŒ–ï¼ˆå›¾ç‰‡åŽ‹ç¼©ã€ç¼“å­˜ç­‰ï¼‰
- [ ] å…¨é¢åŠŸèƒ½æµ‹è¯•
- [ ] å…¼å®¹æ€§æµ‹è¯•
- [ ] Bugä¿®å¤
- [ ] ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- [ ] æ–‡æ¡£ç¼–å†™

## æ³¨æ„äº‹é¡¹

1. **APIå¯†é’¥å®‰å…¨**ï¼šè¯·å‹¿å°†APIå¯†é’¥æäº¤åˆ°ç‰ˆæœ¬æŽ§åˆ¶ç³»ç»Ÿï¼Œä½¿ç”¨çŽ¯å¢ƒå˜é‡ç®¡ç†
2. **å›¾ç‰‡å¤§å°é™åˆ¶**ï¼šå½“å‰é™åˆ¶ä¸º10MBï¼Œå¯æ ¹æ®éœ€è¦è°ƒæ•´
3. **æ”¯æŒçš„å›¾ç‰‡æ ¼å¼**ï¼šJPGã€PNGã€WEBP
4. **æ¨¡åž‹å“åº”æ—¶é—´**ï¼šæ ¹æ®ç½‘ç»œå’Œæ¨¡åž‹è´Ÿè½½ï¼Œè¯†åˆ«å¯èƒ½éœ€è¦å‡ ç§’åˆ°åå‡ ç§’

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤Issueæˆ–Pull Requestã€‚

